(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[910],{2431:function(){},9080:function(e,a,t){Promise.resolve().then(t.bind(t,1035))},1035:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return m}});var s=t(7437),l=t(2265),i=t(9221),n=t(4573);function o(e,a,t){return console.log("a: ",e),console.log("b: ",a),console.log("c: ",t),a>e&&a>t}var r=t(6737),d=t(3323);function c(){let e=(0,i.useTranslations)("profile-data"),a=(0,r.v9)(e=>e.project.topo),t=(0,r.I0)(),[c,m]=(0,l.useState)([]),[p,x]=(0,l.useState)([]);(0,l.useEffect)(()=>{m(a.map(e=>({name:e.name,l:e.l.toString(),h:e.h.toString()}))),x(a.map(()=>!1))},[]),(0,l.useEffect)(()=>{x(a.map((e,t)=>{let s=t>0?a[t-1].h:e.h,l=t<a.length-1?a[t+1].h:e.h;return o(s,e.h,l)}))},[a]);let u=e=>{t((0,d.uH)(e));let a=[...p];a.splice(e,1),x(a);let s=[...c];s.splice(e,1),m(s)},h=e=>{x(a=>{let t=[...a];return t[e]=!t[e],t})},v=(e,s,l)=>{let i=[...c];if(i[e]={...i[e],[s]:l},m(i),"l"===s||"h"===s){if(!isNaN(parseFloat(l))||""===l){let i=[...a];i[e]={...i[e],[s]:isNaN(parseFloat(l))?0:parseFloat(l)},t((0,d.Ni)({topoData:i,valveCount:g}))}}else{let i=[...a];i[e]={...i[e],[s]:l},t((0,d.Ni)({topoData:i,valveCount:g}))}},g=p.reduce((e,a)=>e+(a?1:0),0);return(0,s.jsx)("div",{className:"mx-auto max-w-5xl sm:px-6 lg:px-8 mb-4",children:(0,s.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"sm:flex sm:items-center",children:[(0,s.jsx)("div",{className:"sm:flex-auto",children:(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-700",children:e("profile-data-note")})}),(0,s.jsx)("div",{className:"mt-4 sm:ml-16 sm:mt-0 sm:flex-none",children:(0,s.jsx)("button",{type:"button",onClick:()=>{let e=[...a,{name:"",l:NaN,h:NaN}];console.log("topo: "+JSON.stringify(a)),x(a=>[...a,e.length>2&&o(e[e.length-3].h,e[e.length-2].h,e[e.length-1].h)]),t((0,d.Ni)({topoData:e,valveCount:g}))},className:"block rounded-md bg-sky-500 px-3 py-1.5 text-center text-sm font-semibold leading-6 text-white shadow-sm hover:bg-sky-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600",children:e("add-point")})})]}),(0,s.jsx)("div",{className:"mt-8 flow-root",children:(0,s.jsx)("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,s.jsx)("div",{className:"inline-block min-w-full  py-2 align-middle sm:px-6 lg:px-8",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-300 mb-16",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"w-1/5 py-3.5 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:e("label")}),(0,s.jsx)("th",{scope:"col",className:"w-1/5 px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:e("length")}),(0,s.jsx)("th",{scope:"col",className:"w-1/5 px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:e("height")}),(0,s.jsx)("th",{scope:"col",className:"w-1/5 px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:e("slope")}),(0,s.jsx)("th",{scope:"col",className:"w-1/5 px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:e("start")}),(0,s.jsx)("th",{scope:"col",className:"w-1/5 px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:e("valve")}),(0,s.jsx)("th",{scope:"col",className:" relative py-3.5 pl-3 pr-4 sm:pr-0",children:(0,s.jsx)("span",{className:"sr-only",children:"Remove"})})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200",children:a.map((e,t)=>{var l,i,o,r,d,m,x,g;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-4 pl-4 pr-3 text-sm font-medium text-gray-500 sm:pl-0",children:(0,s.jsx)("input",{type:"text",value:e.name,onChange:e=>v(t,"name",e.target.value),className:"w-full px-2 py-1 text-sm border-0 rounded-md border-gray-300 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-sky-500 sm:text-sm sm:leading-6"})}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:(0,s.jsx)("input",{type:"text",value:(null===(l=c[t])||void 0===l?void 0:l.l)||"",onChange:e=>v(t,"l",e.target.value),className:"w-full px-2 py-1 text-sm border-0 rounded-md border-gray-300 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-sky-500 sm:text-sm sm:leading-6"})}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:(0,s.jsx)("input",{type:"text",value:(null===(i=c[t])||void 0===i?void 0:i.h)||"",onChange:e=>v(t,"h",e.target.value),className:"w-full px-2 py-1 text-sm border-0 rounded-md border-gray-300 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-sky-500 sm:text-sm sm:leading-6"})}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500 ",children:t<a.length-1?(o=a[t+1].l,r=e.l,d=a[t+1].h,m=e.h,isNaN(r)||isNaN(m)||isNaN(o)||isNaN(d)?0:parseFloat(((d-m)/(o-r)).toFixed(2))):"0"}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500 ",children:t<a.length-1?(x=a[t+1].l,isNaN(g=e.l)||isNaN(x)?0:g):"0"}),(0,s.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:(0,s.jsx)("input",{type:"checkbox",checked:p[t],onChange:()=>h(t),className:"h-4 w-4 rounded border-gray-300 text-sky-500 focus:ring-sky-500"})}),(0,s.jsx)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:(0,s.jsx)(n.Z,{onClick:()=>u(t),className:"block h-5 w-5 text-sky-500 hover:text-sky-700",children:"Remove"})})]},t)})})]})})})})]})})}function m(){var e;let a=(0,i.useTranslations)("input-data"),t=[{name:a("profile-data"),current:!0},{name:a("topo-data"),current:!1}],[n,o]=(0,l.useState)(null===(e=t.find(e=>e.current))||void 0===e?void 0:e.name);return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"hidden sm:block mx-auto max-w-5xl py-12 sm:px-6 lg:px-8",children:(0,s.jsx)("nav",{className:"flex space-x-4","aria-label":"Tabs",children:t.map(e=>(0,s.jsx)("button",{onClick:()=>{o(e.name)},className:function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.filter(Boolean).join(" ")}(e.name===n?"bg-sky-100 text-sky-700":"text-gray-500 hover:text-gray-700","rounded-md px-3 py-2 text-sm font-medium"),"aria-current":e.name===n?"page":void 0,children:e.name},e.name))})}),n===a("profile-data")&&(0,s.jsx)(c,{}),n===a("topo-data")&&(0,s.jsx)("div",{children:"Topo Data Content"})]})}},3323:function(e,a,t){"use strict";t.d(a,{ZP:function(){return m},uH:function(){return r},x1:function(){return d},a0:function(){return n},Ni:function(){return o},pg:function(){return c},cT:function(){return l}});var s=t(6886);let l=(0,s.hg)("project/uploadFile",async(e,a)=>{try{let t=new FileReader;t.onload=()=>{try{let e=JSON.parse(t.result);a.dispatch(n(e))}catch(e){console.error("Error parsing JSON:",e),a.rejectWithValue(e)}},t.onerror=e=>{console.error("Error reading file:",e),a.rejectWithValue(e)},t.readAsText(e)}catch(e){return a.rejectWithValue(e)}}),i=(0,s.oM)({name:"project",initialState:{project_name:"Example Project",json_format:1,designer:"Example Designer",description:"Test",date:"10/23/2023",notes:"Testing for web application",qmax:.25,qmin:.25,airvalve_selection:"auto",topo:[{name:"1",l:0,h:0}],nSocks:0,valveFlags:[],library:{valve_cost:380,pipe_data:[{nominal_size:'1/2"',sdr:13,id:.0182,cost:7.98,available:!0},{nominal_size:'1/2"',sdr:7.7,id:.0158,cost:15.18,available:!0},{nominal_size:'1/2"',sdr:5.7,id:.0138684,cost:16.2,available:!0},{nominal_size:'3/4"',sdr:17,id:.0235,cost:11.14,available:!0},{nominal_size:'3/4"',sdr:9.3,id:.0209296,cost:22.61,available:!0},{nominal_size:'3/4"',sdr:6.8,id:.0188468,cost:22.2,available:!0},{nominal_size:'1"',sdr:26,id:.0304,cost:14.41,available:!0},{nominal_size:'1"',sdr:17,id:.0295,cost:18.22,available:!0},{nominal_size:'1"',sdr:9.9,id:.0266446,cost:29.89,available:!0},{nominal_size:'1"',sdr:7.3,id:.0243078,cost:37.6,available:!0},{nominal_size:'1.5"',sdr:32.5,id:.0453,cost:21.05,available:!0},{nominal_size:'1.5"',sdr:26,id:.0446,cost:25.46,available:!0},{nominal_size:'1.5"',sdr:17,id:.0426,cost:38.13,available:!0},{nominal_size:'1.5"',sdr:13.1,id:.040894,cost:56.11,available:!0},{nominal_size:'1.5"',sdr:9.5,id:.0381,cost:68.97,available:!0},{nominal_size:'2"',sdr:32.5,id:.0566,cost:32.04,available:!0},{nominal_size:'2"',sdr:26,id:.0557,cost:39.7,available:!0},{nominal_size:'2"',sdr:17,id:.0532,cost:59.82,available:!0},{nominal_size:'2"',sdr:15.4,id:.0525018,cost:77.85,available:!0},{nominal_size:'2"',sdr:10.9,id:.0492506,cost:99.2,available:!0},{nominal_size:'3"',sdr:32.5,id:.0834,cost:69.81,available:!0},{nominal_size:'3"',sdr:26,id:.0821,cost:86.8,available:!0},{nominal_size:'3"',sdr:17,id:.0784,cost:129.43,available:!0},{nominal_size:'3"',sdr:16.2,id:.0779272,cost:162.54,available:!0},{nominal_size:'3"',sdr:11.7,id:.07366,cost:205.58,available:!0},{nominal_size:'4"',sdr:32.5,id:.1073,cost:115.4,available:!0},{nominal_size:'4"',sdr:26,id:.1055,cost:143,available:!0},{nominal_size:'4"',sdr:17,id:.1008,cost:214.34,available:!0},{nominal_size:'4"',sdr:13.4,id:.0971804,cost:309.32,available:!0},{nominal_size:'6"',sdr:32.5,id:.1579,cost:250.6,available:!0},{nominal_size:'6"',sdr:26,id:.1553,cost:320.13,available:!0},{nominal_size:'6"',sdr:17,id:.1485,cost:495.57,available:!0},{nominal_size:'6"',sdr:15.3,id:.1463294,cost:608.92,available:!0}]}},reducers:{setProject:(e,a)=>a.payload,setTopo:(e,a)=>{e.topo=a.payload.topoData,e.nSocks=a.payload.valveCount,e.valveFlags=Array(a.payload.valveFlags).fill(!1)},removeTopo:(e,a)=>{e.topo.splice(a.payload,1)},setLibrary:(e,a)=>{e.library.valve_cost=a.payload.valveCost,e.library.pipe_data=a.payload.data},togglePipeAvailability:(e,a)=>{let{pipeId:t,isChecked:s}=a.payload;e.library.pipe_data=e.library.pipe_data.map(e=>e.id===t?{...e,available:s}:e)}}}),{setProject:n,setTopo:o,removeTopo:r,setLibrary:d,togglePipeAvailability:c}=i.actions;var m=i.reducer},4573:function(e,a,t){"use strict";var s=t(2265);let l=s.forwardRef(function(e,a){let{title:t,titleId:l,...i}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":l},i),t?s.createElement("title",{id:l},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});a.Z=l}},function(e){e.O(0,[221,323,886,971,23,744],function(){return e(e.s=9080)}),_N_E=e.O()}]);