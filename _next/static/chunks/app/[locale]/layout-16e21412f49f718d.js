(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{2431:function(){},548:function(e,a,t){Promise.resolve().then(t.bind(t,7371)),Promise.resolve().then(t.t.bind(t,7052,23)),Promise.resolve().then(t.bind(t,1502)),Promise.resolve().then(t.bind(t,9041)),Promise.resolve().then(t.bind(t,1656))},1502:function(e,a,t){"use strict";t.d(a,{default:function(){return x}});var s=t(7437),i=t(2265),n=t(9339),l=t(5573),r=t(6057),o=t(9422),c=t(3925),d=t(9221),m=t(9163),u=t(6982);let f=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.filter(Boolean).join(" ")};function x(){let e=(0,d.useTranslations)("language-selector"),a=(0,m.Z)(),t=[{id:"en",name:e("english")},{id:"es",name:e("spanish")},{id:"fr",name:e("french")}],x=(0,u.Z)(),h=e=>{a.replace(x,{locale:e.id})},[p,v]=(0,i.useState)(t[0]);return(0,s.jsx)(n.R,{value:p,onChange:e=>{v(e),h(e)},children:e=>{let{open:a}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"relative mt-2 px-4",children:[(0,s.jsxs)(n.R.Button,{className:"relative cursor-default w-40 rounded-md bg-white py-1 pl-2 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-sky-500 sm:text-sm sm:leading-6",children:[(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(c.Z,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"ml-3 block truncate",children:p.name})]}),(0,s.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 ml-3 flex items-center pr-2",children:(0,s.jsx)(r.Z,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),(0,s.jsx)(l.u,{show:a,as:i.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)(n.R.Options,{className:"absolute z-10 mt-1 max-h-56 w-40 overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:t.map(e=>(0,s.jsx)(n.R.Option,{className:e=>{let{active:a}=e;return f(a?"bg-sky-600 text-white":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-9")},value:e,children:a=>{let{selected:t,active:i}=a;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("span",{className:f(t?"font-semibold":"font-normal","ml-3 block truncate"),children:e.name})}),t?(0,s.jsx)("span",{className:f(i?"text-white":"text-sky-600","absolute inset-y-0 right-0 flex items-center pr-4"),children:(0,s.jsx)(o.Z,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},e.id))})})]})})}})}},9041:function(e,a,t){"use strict";t.d(a,{default:function(){return j}});var s=t(7437),i=t(5622),n=t(4573),l=t(4589),r=t(6463),o=t(9221),c=t(6737);async function d(e){let a=await fetch("https://twordle-django-r8ozy.ondigitalocean.app/air/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error("Failed to fetch data");return await a.json()}var m=t(8945),u=t(2265),f=t(5573),x=t(5130),h=t(1853),p=t(6135),v=e=>{let{type:a="success",message:t}=e,[i,n]=(0,u.useState)(!0);(0,u.useEffect)(()=>{if(i){let e=setTimeout(()=>{n(!1)},5e3);return()=>clearTimeout(e)}},[i]);let l="success"===a;return(0,s.jsx)("div",{"aria-live":"assertive",className:"pointer-events-none fixed bottom-0 right-0 mb-4 mr-4 flex items-end px-4 py-6 sm:items-start sm:p-6",children:(0,s.jsx)(f.u,{show:i,as:u.Fragment,enter:"transform ease-out duration-300 transition",enterFrom:"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2",enterTo:"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("div",{className:"pointer-events-auto w-full flex flex-shrink-0 max-w-sm overflow-hidden rounded-lg shadow-lg ring-1 ring-black ring-opacity-5",children:(0,s.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:l?(0,s.jsx)(x.Z,{className:"h-6 w-6 text-green-400","aria-hidden":"true"}):(0,s.jsx)(h.Z,{className:"h-6 w-6 text-red-400","aria-hidden":"true"})}),(0,s.jsx)("div",{className:"flex-grow",children:(0,s.jsx)("p",{className:"text-sm font-medium ".concat(l?"text-green-900":"text-red-900"),children:t})})]}),(0,s.jsxs)("button",{type:"button",className:"ml-4 inline-flex rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2",onClick:()=>{n(!1)},children:[(0,s.jsx)("span",{className:"sr-only",children:"Close"}),(0,s.jsx)(p.Z,{className:"h-5 w-5","aria-hidden":"true"})]})]})})})})},b=t(7138),g=t(3323);function y(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.filter(Boolean).join(" ")}function j(e){let{locale:a}=e,t=(0,r.usePathname)(),f=e=>t===e,x=(0,c.I0)(),[h,p]=(0,u.useState)(!1),[j,N]=(0,u.useState)(""),[_,w]=(0,u.useState)("success"),k=(0,u.useRef)(null),z=(0,c.v9)(e=>e.report),P=(0,c.v9)(e=>e.project),S=(0,o.useTranslations)("nav-bar"),T=[{name:S("principal"),href:"/"},{name:S("input-data"),href:"/".concat(a,"/input-data")},{name:S("tube-data"),href:"/".concat(a,"/tube-data")},{name:S("report"),href:"/".concat(a,"/report")}],C=e=>{let a=e.target.files?e.target.files[0]:null;a&&x((0,g.cT)(a))},F=()=>{var e;null===(e=k.current)||void 0===e||e.click()},Z=(e,a,t)=>{let s=prompt("Enter file name",a);s&&function(e,a,t){let s=document.createElement("a"),i=new Blob([e],{type:t});s.href=URL.createObjectURL(i),s.download=a,s.click(),URL.revokeObjectURL(s.href)}(e,"".concat(s,".json"),t)},E=(0,u.useCallback)(()=>{Z(JSON.stringify(z,null,2),"project-data.json","text/json")},[z]);async function O(){p(!1);try{let e=await d(P);x((0,m.a_)(e)),void 0!==e.design_summary?(N("Successfully calculated!"),p(!0),w("success")):(N("Cannot calculate with current input data."),p(!0),w("error")),p(!0)}catch(e){console.error("Error fetching data:",e)}}return(0,s.jsx)(i.p,{as:"nav",className:"bg-gray-800 font-inter",children:e=>{let{open:a}=e;return(0,s.jsxs)(s.Fragment,{children:[h&&(0,s.jsx)(v,{message:j,type:_}),(0,s.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex h-16 justify-between",children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"-ml-2 mr-2 flex items-center md:hidden",children:(0,s.jsxs)(i.p.Button,{className:"relative inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[(0,s.jsx)("span",{className:"absolute -inset-0.5"}),(0,s.jsx)("span",{className:"sr-only",children:"Open main menu"}),a?(0,s.jsx)(n.Z,{className:"block h-6 w-6","aria-hidden":"true"}):(0,s.jsx)(l.Z,{className:"block h-6 w-6","aria-hidden":"true"})]})}),(0,s.jsx)("div",{className:"flex flex-shrink-0 items-center"}),(0,s.jsxs)("div",{className:"flex flex-shrink-0 font-semibold text-xl tracking-wide text-sky-400 px-1 items-center ",children:[" ","Agua Para La Vida"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{type:"button",className:"relative inline-flex items-center gap-x-1.5 rounded-md bg-sky-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-sky-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600",onClick:F,children:"Upload File"}),(0,s.jsx)("input",{ref:k,type:"file",className:"hidden",onChange:C}),(0,s.jsx)("div",{className:"hidden md:ml-6 md:flex md:items-center md:space-x-4",children:T.map(e=>(0,s.jsx)(b.default,{href:e.href,className:y(f(e.href)?" bg-gray-900 text-white":" text-gray-300 hover:bg-gray-700 hover:text-white","rounded-md px-2 py-2 text-sm font-medium"),"aria-current":f(e.href)?"page":void 0,children:e.name},e.name))}),(0,s.jsx)("button",{onClick:E,className:"relative inline-flex items-center gap-x-1.5 rounded-md bg-sky-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-sky-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600",children:"Save"}),(0,s.jsx)("button",{type:"button",onClick:O,className:"relative inline-flex items-center gap-x-1.5 rounded-md bg-sky-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-sky-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600",children:S("calculate")})]})]})}),(0,s.jsx)(i.p.Panel,{className:"md:hidden",children:(0,s.jsx)("div",{className:"space-y-1 px-2 pb-3 pt-2 sm:px-3",children:T.map(e=>(0,s.jsx)(i.p.Button,{as:"a",href:e.href,className:y(f(e.href)?"font-semibold bg-beige text-darkest-blue":" font-semibold text-beige text-opacity-80 hover:bg-darkest-blue hover:text-beige","block rounded-md px-3 py-2 text-base font-medium"),"aria-current":f(e.href)?"page":void 0,children:e.name},e.name))})})]})}})}},1656:function(e,a,t){"use strict";t.d(a,{default:function(){return c}});var s=t(7437),i=t(6737),n=t(6886),l=t(3323),r=t(8945);let o=(0,n.xC)({reducer:{project:l.ZP,report:r.ZP}});function c(e){let{children:a}=e;return(0,s.jsx)(i.zt,{store:o,children:a})}},3323:function(e,a,t){"use strict";t.d(a,{ZP:function(){return m},uH:function(){return o},x1:function(){return c},a0:function(){return l},Ni:function(){return r},pg:function(){return d},cT:function(){return i}});var s=t(6886);let i=(0,s.hg)("project/uploadFile",async(e,a)=>{try{let t=new FileReader;t.onload=()=>{try{let e=JSON.parse(t.result);a.dispatch(l(e))}catch(e){console.error("Error parsing JSON:",e),a.rejectWithValue(e)}},t.onerror=e=>{console.error("Error reading file:",e),a.rejectWithValue(e)},t.readAsText(e)}catch(e){return a.rejectWithValue(e)}}),n=(0,s.oM)({name:"project",initialState:{project_name:"Example Project",json_format:1,designer:"Example Designer",description:"Test",date:"10/23/2023",notes:"Testing for web application",qmax:.25,qmin:.25,airvalve_selection:"auto",topo:[{name:"1",l:0,h:0}],nSocks:0,valveFlags:[],library:{valve_cost:380,pipe_data:[{nominal_size:'1/2"',sdr:13,id:.0182,cost:7.98,available:!0},{nominal_size:'1/2"',sdr:7.7,id:.0158,cost:15.18,available:!0},{nominal_size:'1/2"',sdr:5.7,id:.0138684,cost:16.2,available:!0},{nominal_size:'3/4"',sdr:17,id:.0235,cost:11.14,available:!0},{nominal_size:'3/4"',sdr:9.3,id:.0209296,cost:22.61,available:!0},{nominal_size:'3/4"',sdr:6.8,id:.0188468,cost:22.2,available:!0},{nominal_size:'1"',sdr:26,id:.0304,cost:14.41,available:!0},{nominal_size:'1"',sdr:17,id:.0295,cost:18.22,available:!0},{nominal_size:'1"',sdr:9.9,id:.0266446,cost:29.89,available:!0},{nominal_size:'1"',sdr:7.3,id:.0243078,cost:37.6,available:!0},{nominal_size:'1.5"',sdr:32.5,id:.0453,cost:21.05,available:!0},{nominal_size:'1.5"',sdr:26,id:.0446,cost:25.46,available:!0},{nominal_size:'1.5"',sdr:17,id:.0426,cost:38.13,available:!0},{nominal_size:'1.5"',sdr:13.1,id:.040894,cost:56.11,available:!0},{nominal_size:'1.5"',sdr:9.5,id:.0381,cost:68.97,available:!0},{nominal_size:'2"',sdr:32.5,id:.0566,cost:32.04,available:!0},{nominal_size:'2"',sdr:26,id:.0557,cost:39.7,available:!0},{nominal_size:'2"',sdr:17,id:.0532,cost:59.82,available:!0},{nominal_size:'2"',sdr:15.4,id:.0525018,cost:77.85,available:!0},{nominal_size:'2"',sdr:10.9,id:.0492506,cost:99.2,available:!0},{nominal_size:'3"',sdr:32.5,id:.0834,cost:69.81,available:!0},{nominal_size:'3"',sdr:26,id:.0821,cost:86.8,available:!0},{nominal_size:'3"',sdr:17,id:.0784,cost:129.43,available:!0},{nominal_size:'3"',sdr:16.2,id:.0779272,cost:162.54,available:!0},{nominal_size:'3"',sdr:11.7,id:.07366,cost:205.58,available:!0},{nominal_size:'4"',sdr:32.5,id:.1073,cost:115.4,available:!0},{nominal_size:'4"',sdr:26,id:.1055,cost:143,available:!0},{nominal_size:'4"',sdr:17,id:.1008,cost:214.34,available:!0},{nominal_size:'4"',sdr:13.4,id:.0971804,cost:309.32,available:!0},{nominal_size:'6"',sdr:32.5,id:.1579,cost:250.6,available:!0},{nominal_size:'6"',sdr:26,id:.1553,cost:320.13,available:!0},{nominal_size:'6"',sdr:17,id:.1485,cost:495.57,available:!0},{nominal_size:'6"',sdr:15.3,id:.1463294,cost:608.92,available:!0}]}},reducers:{setProject:(e,a)=>a.payload,setTopo:(e,a)=>{e.topo=a.payload.topoData,e.nSocks=a.payload.valveCount,e.valveFlags=Array(a.payload.valveFlags).fill(!1)},removeTopo:(e,a)=>{e.topo.splice(a.payload,1)},setLibrary:(e,a)=>{e.library.valve_cost=a.payload.valveCost,e.library.pipe_data=a.payload.data},togglePipeAvailability:(e,a)=>{let{pipeId:t,isChecked:s}=a.payload;e.library.pipe_data=e.library.pipe_data.map(e=>e.id===t?{...e,available:s}:e)}}}),{setProject:l,setTopo:r,removeTopo:o,setLibrary:c,togglePipeAvailability:d}=n.actions;var m=n.reducer},8945:function(e,a,t){"use strict";t.d(a,{a_:function(){return i}});let s=(0,t(6886).oM)({name:"data",initialState:{design_summary:[]},reducers:{setData:(e,a)=>a.payload,setError:(e,a)=>{}}}),{setData:i,setError:n}=s.actions;a.ZP=s.reducer}},function(e){e.O(0,[328,221,323,886,84,971,23,744],function(){return e(e.s=548)}),_N_E=e.O()}]);