(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[837],{2431:function(){},6304:function(e,s,t){Promise.resolve().then(t.bind(t,9043))},9043:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return p}});var a=t(7437),r=t(2265),l=t(9221),n=t(6737);function i(e){let{report:s,project:t}=e,r=(0,l.useTranslations)("report");if(!s||!s.design_summary)return(0,a.jsx)("div",{children:"Loading report data..."});if(!s.design_summary)return(0,a.jsx)("div",{children:"Error: Report summary data is not available."});if(0==s.design_summary.length)return(0,a.jsx)("div",{children:"No summary data available for this report"});let n=s.design_summary,i=n.map(e=>"".concat(e.length.toFixed(1),"   m ").concat(e.nominal_size," SDR ").concat(e.sdr));return(0,a.jsxs)("div",{className:"mx-auto max-w-5xl sm:px-6 lg:px-8",children:[(0,a.jsx)("div",{className:"px-4 sm:px-0",children:(0,a.jsx)("p",{className:"mt-1 max-w-2xl text-sm leading-6 text-gray-500",children:r("case-intro")+" "+s.design.design_case})}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsxs)("dl",{className:"grid grid-cols-1 sm:grid-cols-4",children:[(0,a.jsxs)("div",{className:"border-t border-gray-100 px-4 py-6 sm:px-0 sm:col-span-4",children:[(0,a.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:r("total-cost")}),(0,a.jsxs)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:mt-2",children:["C$"," ",(s.design.cost+t.library.valve_cost*s.design.valve_count).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-100 px-4 py-6  sm:px-0 sm:col-span-2",children:[(0,a.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:r("number-air-valves")}),(0,a.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:mt-2",children:s.design.valve_count})]}),(0,a.jsxs)("div",{className:"border-t border-gray-100 px-4 py-6  sm:px-0 sm:col-span-2",children:[(0,a.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:r("valve-cost")}),(0,a.jsxs)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:mt-2",children:["C$ ",t.library.valve_cost*s.design.valve_count]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-100 px-4 py-6 sm:px-0 sm:col-span-2",children:[(0,a.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:r("pipe-design")}),(0,a.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:mt-2",children:i.map((e,s)=>(0,a.jsxs)("span",{children:[e,s!==i.length-1&&(0,a.jsx)("br",{})]},s))})]}),(0,a.jsxs)("div",{className:"border-t border-gray-100 px-4 py-6 sm:px-0 sm:col-span-2",children:[(0,a.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:r("pipe-cost")}),(0,a.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:mt-2",children:n.map((e,s)=>(0,a.jsxs)("span",{children:["C$ ",e.cost.toFixed(2),s!==i.length-1&&(0,a.jsx)("br",{})]},s))})]}),(0,a.jsxs)("div",{className:"border-t border-gray-100 px-4 py-6  sm:px-0 sm:col-span-1",children:[(0,a.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Ha"}),(0,a.jsxs)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:mt-2",children:[n.reduce((e,s)=>e+s.length,0).toFixed(2)," ","m"]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-100 px-4 py-6  sm:px-0 sm:col-span-1",children:[(0,a.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:r("length")}),(0,a.jsxs)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:mt-2",children:[n.reduce((e,s)=>e+s.length,0).toFixed(2)," ","m"]})]})]})})]})}var d=t(5759),o=t(7346),m=t(5211);function c(e){let{report:s,project:t}=e;t.topo;let r=s.pipe_design,l=(e,s)=>"".concat(e,"-").concat(s),n=new Map,i=(e,s)=>{let t=l(e,s);if(!n.has(t)){let e=137*n.size%360;n.set(t,"hsla(".concat(e,", 60%, 70%, 0.3)"))}return n.get(t)},d=r.map(e=>({type:"box",xMin:e.start_pos,xMax:e.start_pos+e.length,backgroundColor:i(e.nominal_size,e.sdr),borderColor:i(e.nominal_size,e.sdr),borderWidth:1})),m={datasets:[{label:"Topo Data",data:t.topo.map(e=>({x:e.l,y:e.h})),borderColor:"rgb(75, 192, 192)",borderWidth:2,fill:!1,tension:.1,pointRadius:5}]};return(0,a.jsxs)("div",{className:"hidden sm:block mx-auto max-w-5xl py-12 sm:px-6 lg:px-8",children:[(0,a.jsx)(o.x1,{data:m,options:{scales:{x:{type:"linear",position:"bottom",title:{display:!0,text:"Length (m)"}},y:{beginAtZero:!0,title:{display:!0,text:"Height (m)"}}},plugins:{annotation:{annotations:d},tooltip:{enabled:!0,callbacks:{label:function(e){return e.dataIndex,e.label}}},legend:{display:!1,position:"top"},title:{display:!0,text:"Topography Graph"}}}}),(0,a.jsx)("div",{style:{width:"25%"},children:(0,a.jsx)(()=>(0,a.jsx)("div",{style:{padding:"10px",border:"1px solid #ccc",borderRadius:"5px",marginTop:"10px"},children:r.map((e,s)=>{let t=i(e.nominal_size,e.sdr);return(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[(0,a.jsx)("div",{style:{width:"20px",height:"20px",backgroundColor:t,marginRight:"10px"}}),(0,a.jsxs)("span",{children:[e.nominal_size," SDR: ",e.sdr]})]},s)})}),{})})]})}function x(e){let{report:s,project:t}=e,r=(0,l.useTranslations)("report"),n=s.pipe_design,i=Array.isArray(s.valves)?s.valves:[];return console.log(JSON.stringify(s)),(0,a.jsx)("div",{className:"mx-auto max-w-5xl sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:r("position")}),(0,a.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:r("length-detail")}),(0,a.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:r("description")}),(0,a.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:r("automatic-valve-location")}),(0,a.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:(0,a.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:n.map((e,s)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0",children:e.start_pos.toFixed(1)}),(0,a.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.length.toFixed(1)}),(0,a.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:"".concat(e.nominal_size," SDR ").concat(e.sdr)}),(0,a.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:s<i.length?i[s].position.toFixed(1):""})]},e.hgl))})]})})})}function p(){var e;let s=(0,l.useTranslations)("report"),t=(0,n.v9)(e=>e.report),d=(0,n.v9)(e=>e.project);(0,n.I0)();let o=[{name:s("summary"),current:!0},{name:s("graph"),current:!1},{name:s("detail"),current:!1}],[m,p]=(0,r.useState)(null===(e=o.find(e=>e.current))||void 0===e?void 0:e.name);return console.log(t),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"hidden sm:block mx-auto max-w-5xl py-12 sm:px-6 lg:px-8",children:(0,a.jsx)("nav",{className:"flex space-x-4","aria-label":"Tabs",children:o.map(e=>(0,a.jsx)("button",{onClick:()=>{p(e.name)},className:function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter(Boolean).join(" ")}(e.name===m?"bg-sky-100 text-sky-700":"text-gray-500 hover:text-gray-700","rounded-md px-3 py-2 text-sm font-medium"),"aria-current":e.name===m?"page":void 0,children:e.name},e.name))})}),m===s("summary")&&(0,a.jsx)(i,{report:t,project:d}),m===s("graph")&&(0,a.jsx)(c,{report:t,project:d}),m===s("detail")&&(0,a.jsx)(x,{report:t,project:d})]})}m.kL.register(m.uw,m.f$,m.od,m.jn,m.Dx,m.u,m.De,m.Gu,...m.zX,d.Z)}},function(e){e.O(0,[674,221,323,205,971,23,744],function(){return e(e.s=6304)}),_N_E=e.O()}]);