(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[742],{4075:function(e,a,s){Promise.resolve().then(s.bind(s,8154))},3323:function(e,a,s){"use strict";s.d(a,{ZP:function(){return m},uH:function(){return r},x1:function(){return d},a0:function(){return n},Ni:function(){return o},pg:function(){return c},cT:function(){return l}});var i=s(6886);let l=(0,i.hg)("project/uploadFile",async(e,a)=>{try{let s=new FileReader;s.onload=()=>{try{let e=JSON.parse(s.result);a.dispatch(n(e))}catch(e){console.error("Error parsing JSON:",e),a.rejectWithValue(e)}},s.onerror=e=>{console.error("Error reading file:",e),a.rejectWithValue(e)},s.readAsText(e)}catch(e){return a.rejectWithValue(e)}}),t=(0,i.oM)({name:"project",initialState:{project_name:"Example Project",json_format:1,designer:"Example Designer",description:"Test",date:"10/23/2023",notes:"Testing for web application",qmax:.25,qmin:.25,airvalve_selection:"auto",topo:[{name:"1",l:0,h:0}],nSocks:0,valveFlags:[],library:{valve_cost:380,pipe_data:[{nominal_size:'1/2"',sdr:13,id:.0182,cost:7.98,available:!0},{nominal_size:'1/2"',sdr:7.7,id:.0158,cost:15.18,available:!0},{nominal_size:'1/2"',sdr:5.7,id:.0138684,cost:16.2,available:!0},{nominal_size:'3/4"',sdr:17,id:.0235,cost:11.14,available:!0},{nominal_size:'3/4"',sdr:9.3,id:.0209296,cost:22.61,available:!0},{nominal_size:'3/4"',sdr:6.8,id:.0188468,cost:22.2,available:!0},{nominal_size:'1"',sdr:26,id:.0304,cost:14.41,available:!0},{nominal_size:'1"',sdr:17,id:.0295,cost:18.22,available:!0},{nominal_size:'1"',sdr:9.9,id:.0266446,cost:29.89,available:!0},{nominal_size:'1"',sdr:7.3,id:.0243078,cost:37.6,available:!0},{nominal_size:'1.5"',sdr:32.5,id:.0453,cost:21.05,available:!0},{nominal_size:'1.5"',sdr:26,id:.0446,cost:25.46,available:!0},{nominal_size:'1.5"',sdr:17,id:.0426,cost:38.13,available:!0},{nominal_size:'1.5"',sdr:13.1,id:.040894,cost:56.11,available:!0},{nominal_size:'1.5"',sdr:9.5,id:.0381,cost:68.97,available:!0},{nominal_size:'2"',sdr:32.5,id:.0566,cost:32.04,available:!0},{nominal_size:'2"',sdr:26,id:.0557,cost:39.7,available:!0},{nominal_size:'2"',sdr:17,id:.0532,cost:59.82,available:!0},{nominal_size:'2"',sdr:15.4,id:.0525018,cost:77.85,available:!0},{nominal_size:'2"',sdr:10.9,id:.0492506,cost:99.2,available:!0},{nominal_size:'3"',sdr:32.5,id:.0834,cost:69.81,available:!0},{nominal_size:'3"',sdr:26,id:.0821,cost:86.8,available:!0},{nominal_size:'3"',sdr:17,id:.0784,cost:129.43,available:!0},{nominal_size:'3"',sdr:16.2,id:.0779272,cost:162.54,available:!0},{nominal_size:'3"',sdr:11.7,id:.07366,cost:205.58,available:!0},{nominal_size:'4"',sdr:32.5,id:.1073,cost:115.4,available:!0},{nominal_size:'4"',sdr:26,id:.1055,cost:143,available:!0},{nominal_size:'4"',sdr:17,id:.1008,cost:214.34,available:!0},{nominal_size:'4"',sdr:13.4,id:.0971804,cost:309.32,available:!0},{nominal_size:'6"',sdr:32.5,id:.1579,cost:250.6,available:!0},{nominal_size:'6"',sdr:26,id:.1553,cost:320.13,available:!0},{nominal_size:'6"',sdr:17,id:.1485,cost:495.57,available:!0},{nominal_size:'6"',sdr:15.3,id:.1463294,cost:608.92,available:!0}]}},reducers:{setProject:(e,a)=>a.payload,setTopo:(e,a)=>{e.topo=a.payload.topoData,e.nSocks=a.payload.valveCount,e.valveFlags=Array(a.payload.valveFlags).fill(!1)},removeTopo:(e,a)=>{e.topo.splice(a.payload,1)},setLibrary:(e,a)=>{e.library.valve_cost=a.payload.valveCost,e.library.pipe_data=a.payload.data},togglePipeAvailability:(e,a)=>{let{pipeId:s,isChecked:i}=a.payload;e.library.pipe_data=e.library.pipe_data.map(e=>e.id===s?{...e,available:i}:e)}}}),{setProject:n,setTopo:o,removeTopo:r,setLibrary:d,togglePipeAvailability:c}=t.actions;var m=t.reducer},8154:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return o}});var i=s(7437),l=s(2265),t=s(3323),n=s(8323);function o(){let e=(0,n.I0)(),a=(0,n.v9)(e=>e.project.library.pipe_data),s=(0,n.v9)(e=>e.project.library.valve_cost),o=(0,l.useRef)(null),[r,d]=(0,l.useState)(!1),[c,m]=(0,l.useState)(!1),[x,p]=(0,l.useState)([]);return(0,l.useEffect)(()=>{let i=a.every(e=>e.available),l=a.some(e=>e.available);d(i),m(!i&&l),o.current&&(o.current.indeterminate=!i&&l),e((0,t.x1)({data:a,valveCost:s}))},[a,s,e]),(0,i.jsx)("div",{className:"mx-auto max-w-5xl py-12 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8",children:[(0,i.jsxs)("div",{className:"sm:flex sm:items-center",children:[(0,i.jsxs)("div",{className:"sm:flex-auto",children:[(0,i.jsx)("h1",{className:"text-base font-semibold leading-6 text-gray-900",children:"Tube Data"}),(0,i.jsx)("p",{className:"mt-2 text-sm text-gray-700",children:"A list of all the available pipes"})]}),(0,i.jsxs)("div",{className:"flex flex-row items-center gap-3 ",children:[(0,i.jsx)("label",{htmlFor:"project-name",className:"block text-sm font-medium font-italicize  text-gray-700",children:"Cost of valves that extract air"}),(0,i.jsx)("div",{className:"flex-shrink-0",children:(0,i.jsx)("input",{type:"text",name:"project-name",id:"project-name",value:s,onChange:s=>e((0,t.x1)({data:a,valveCost:Number(s.target.value)})),className:"block w-32 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-sky-500 sm:text-sm sm:leading-6"})}),(0,i.jsx)("button",{type:"button",className:"block rounded-md bg-sky-500 px-3 py-1.5 text-center text-sm font-semibold leading-6 text-white shadow-sm hover:bg-sky-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600",children:"Add Pipe"})]})]}),(0,i.jsx)("div",{className:"mt-8 flow-root",children:(0,i.jsx)("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,i.jsx)("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:(0,i.jsx)("div",{className:"relative",children:(0,i.jsxs)("table",{className:"min-w-full table-fixed divide-y divide-gray-300",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"col",className:"relative px-7 sm:w-12 sm:px-6",children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"checkbox",className:"absolute left-4 top-1/2 -mt-2  h-4 w-4 rounded border-gray-300 text-sky-500 focus:ring-sky-500",ref:o,checked:r,onChange:function(){r||c?e((0,t.x1)({data:a.map(e=>({...e,available:!1})),valveCost:s})):e((0,t.x1)({data:a.map(e=>({...e,available:!0})),valveCost:s})),d(!r&&!c),m(!1)}}),(0,i.jsx)("span",{className:"px-4 text-sm font-semibold text-gray-900",children:"Available"})]})}),(0,i.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Nominal Size"}),(0,i.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"SDR"}),(0,i.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"ID"}),(0,i.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Cost"})]})}),(0,i.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:a.map(s=>(0,i.jsxs)("tr",{className:x.includes(s)?"bg-gray-50":void 0,children:[(0,i.jsxs)("td",{className:"relative px-7 sm:w-12 sm:px-6",children:[x.includes(s)&&(0,i.jsx)("div",{className:"absolute inset-y-0 left-0 w-0.5 bg-indigo-600"}),(0,i.jsx)("input",{type:"checkbox",className:"absolute left-4 top-1/2 -mt-2 h-4 w-4 rounded border-gray-300 text-sky-500 focus:ring-sky-500",value:s.id,checked:s.available,onChange:i=>(function(s,i){e((0,t.pg)({pipeId:s.id,isChecked:i}));let l=a.map(e=>e.id===s.id?{...e,available:i}:e),n=l.every(e=>e.available),r=l.some(e=>e.available);d(n),m(!n&&r),o.current&&(o.current.indeterminate=!n&&r)})(s,i.target.checked)})]}),(0,i.jsx)("td",{className:function(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return a.filter(Boolean).join(" ")}("whitespace-nowrap py-4 px-3 text-sm font-medium",x.includes(s)?"text-indigo-600":"text-gray-900"),children:s.nominal_size}),(0,i.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:s.sdr}),(0,i.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:s.id}),(0,i.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:s.cost})]},s.id))})]})})})})})]})})}}},function(e){e.O(0,[323,886,971,23,744],function(){return e(e.s=4075)}),_N_E=e.O()}]);